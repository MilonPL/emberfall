# Okay so my general thought is this:
# 1. Generate the large mass
# 2. Generate smaller masses offset
# 3. Generate N normal dungeons around the larger mass, preferably near the border
# 4. Generate large paths / small paths around the place
# 5. Spawn ores + fill the rest and the normal stuff

- type: dungeonConfig
  id: VGRoid
  layers:
    - !type:PrototypeDunGen
      proto: VGRoidBlob
    - !type:PrototypeDunGen
      proto: VGRoidExterior
    - !type:PrototypeDunGen
      proto: VGRoidSmaller
    - !type:PrototypeDunGen
      proto: VGRoidSmallPaths
    # Fill
    - !type:PrototypeDunGen
      proto: VGRoidFill
    # Ores
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockTin
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockCoal
      count: 50
      minGroupSize: 20
      maxGroupSize: 30
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockQuartz
      count: 50
      minGroupSize: 20
      maxGroupSize: 30
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockSalt
      count: 50
      minGroupSize: 20
      maxGroupSize: 30
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockGold
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockSilver
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockPlasma
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockUranium
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockBananium
      count: 50
      minGroupSize: 10
      maxGroupSize: 20
    - !type:OreDunGen
      replacement: WallRock
      entity: WallRockArtifactFragment
      count: 50
      minGroupSize: 2
      maxGroupSize: 4

    # Mobs
#          - id: WallRockGold
#            prob: 0.05
#            orGroup: rock
#          - id: WallRockSilver
#            prob: 0.05
#            orGroup: rock
#          - id: WallRockPlasma
#            prob: 0.05
#            orGroup: rock
#          - id: WallRockUranium
#            prob: 0.02
#            orGroup: rock
#          - id: WallRockBananium
#            prob: 0.02
#            orGroup: rock
#          - id: WallRockArtifactFragment
#            prob: 0.01
#            orGroup: rock

# Configs
- type: dungeonConfig
  id: VGRoidBlob
  layers:
  - !type:NoiseDistanceDunGen
    size: 272, 272
    distanceConfig: !type:DunGenEuclideanSquaredDistance
      blendWeight: 0.80
    layers:
    - tile: FloorAsteroidSand
      threshold: 0.50
      noise:
        frequency: 0.010
        noiseType: OpenSimplex2
        fractalType: FBm
        octaves: 5
        lacunarity: 2
        gain: 0.5

- type: dungeonConfig
  id: VGRoidSmaller
  minOffset: 40
  maxOffset: 60
  layers:
  - !type:NoiseDistanceDunGen
    size: 150, 150
    distanceConfig: !type:DunGenEuclideanSquaredDistance
    layers:
    - tile: FloorAsteroidSand
      threshold: 0.50
      noise:
        frequency: 0.080
        noiseType: OpenSimplex2
        fractalType: FBm
        octaves: 5
        lacunarity: 1.5
        gain: 0.5

- type: dungeonConfig
  id: VGRoidExterior
  reserveTiles: true
  data:
    tiles:
      FallbackTile: FloorSteel
      WidenTile: FloorAsteroidSand
  layers:
  - !type:PrototypeDunGen
    proto: VGRoidExteriorDungeons
  - !type:SplineDungeonConnectorPostGen

- type: dungeonConfig
  id: VGRoidExteriorDungeons
  reserveTiles: true
  minCount: 2
  maxCount: 3
  layers:
  - !type:ExteriorDunGen
    proto: Experiment

#- type: dungeonConfig
#  id: VGRoidInteriorDungeons
#  minCount: 3
#  maxCount: 5
#  # Just randomly spawn these in bounds, doesn't really matter if they go out.

- type: dungeonConfig
  id: VGRoidSmallPaths
  reserveTiles: true
  layers:
  - !type:ReplaceTileDunGen
    layers:
    - tile: FloorAsteroidSand
      threshold: 0.75
      noise:
        frequency: 0.040
        noiseType: OpenSimplex2
        fractalType: Ridged
        lacunarity: 1.5
        octaves: 2
        gain: 2.0

#- type: dungeonConfig
#  id: VGRoidOres

# Fill with rocks.
- type: dungeonConfig
  id: VGRoidFill
  layers:
  - !type:FillGridDunGen
    proto: WallRock
