- type: entity
  parent: MarkerBase
  id: RandomAnomalySpawner
  name: random anomaly spawner
  components:
  - type: Sprite
    layers:
    - state: red
    - sprite: Structures/Specific/anomaly.rsi
      state: anom1
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: RandomAnomalySpawnerTable
    offset: 0.15

- type: entityTable
  id: RandomAnomalySpawnerTable
  table: !type:GroupSelector
    children:
    - id: AnomalyPyroclastic
    - id: AnomalyGravity
    - id: AnomalyElectricity
    - id: AnomalyFlesh
    - id: AnomalyBluespace
    - id: AnomalyIce
    - id: RandomRockAnomalySpawner
    - id: AnomalyLiquid
    - id: AnomalyFlora
    - id: AnomalyShadow
    - id: AnomalyTech
    - !type:GroupSelector  # For rare anomalies
      prob: 0.3
      children:
      - id: RandomAnomalyInjectorSpawner
    - !type:GroupSelector
      prob: 0.05
      children:
      - id: SpawnMobBehonker

- type: entity
  parent: RandomAnomalySpawner
  id: RandomRockAnomalySpawner
  name: random rock anomaly spawner
  components:
  - type: Sprite
    layers:
    - state: red
    - sprite: Structures/Specific/anomaly.rsi
      state: anom6
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: RandomRockAnomalySpawnerTable

- type: entityTable
  id: RandomRockAnomalySpawnerTable
  table: !type:GroupSelector
    children:
    - id: AnomalyRockIron
    - id: AnomalyRockSilver
    - id: AnomalyRockQuartz
    - id: AnomalyRockUranium

- type: entity
  parent: MarkerBase
  id: RandomAnomalyInjectorSpawner
  name: random anomaly injector spawner
  components:
  - type: Sprite
    layers:
    - state: red
    - sprite: Structures/Specific/Anomalies/tech_anom.rsi
      state: pulse
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: RandomAnomalyInjectorSpawnerTable
    offset: 0.15

- type: entityTable
  id: RandomAnomalyInjectorSpawnerTable
  table: !type:GroupSelector
    children:
    - id: AnomalyTrapPyroclastic
    - id: AnomalyTrapElectricity
    - id: AnomalyTrapShadow
    - id: AnomalyTrapIce
    - id: AnomalyTrapFlora
    - id: AnomalyTrapBluespace
    - id: AnomalyTrapFlesh
    - id: AnomalyTrapGravity
    - id: AnomalyTrapTech
    - id: AnomalyTrapRock
