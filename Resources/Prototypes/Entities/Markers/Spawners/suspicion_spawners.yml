# When creating a new spawner:
# Point the table to a

- type: entity
  name: SMG Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerSMG
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Guns/SMGs/atreides.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssSmgTable
      prob: 0.8
    offset: 0.4
    delay: 10

- type: entityTable
  id: SssSmgTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 95
      children:
      - id: WeaponSubMachineGunWt550
    - !type:GroupSelector
      weight: 4
      children:
      - id: WeaponSubMachineGunDrozd
      - id: WeaponSubMachineGunVector
    - !type:GroupSelector
      weight: 1
      children:
      - id: WeaponSubMachineGunAtreides

- type: entity
  name: SMG Ammo Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerSMGAmmo
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: blue
    - state: timed
    - sprite: Objects/Weapons/Guns/SMGs/atreides.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssSmgAmmoTable
      prob: 1
    offset: 0.4
    delay: 10
    count: 2 # 2 mags per gun

# This doesn't spawn atreides ammo, cause the atreides is very OP and should not be reloaded.
- type: entityTable
  id: SssSmgAmmoTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 95
      children:
      - id: MagazinePistolSubMachineGunTopMounted
    - !type:GroupSelector
      weight: 4
      children:
      - id: MagazinePistolSubMachineGun
      - id: MagazineMagnumSubMachineGun

- type: entity
  name: Pistol Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerPistol
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Guns/Pistols/mk58.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssPistolTable
      prob: 1
    offset: 0.4
    delay: 10

- type: entityTable
  id: SssPistolTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 80
      children:
      - id: WeaponPistolMk58
    - !type:GroupSelector
      weight: 19
      children:
      - id: WeaponRevolverInspector
    - !type:GroupSelector
      weight: 1
      children:
      - id: WeaponRevolverDeckard
      - id: WeaponSniperMosin # Funny traitor item spawn

- type: entity
  name: Pistol Ammo Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerPistolAmmo
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: blue
    - state: timed
    - sprite: Objects/Weapons/Guns/Pistols/mk58.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssPistolAmmoTable
      prob: 1
    offset: 0.4
    delay: 10
    count: 2

- type: entityTable
  id: SssPistolAmmoTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 80
      children:
      - id: MagazinePistol
    - !type:GroupSelector
      weight: 19
      children:
      - id: SpeedLoaderMagnum
    - !type:GroupSelector
      weight: 1
      children:
      - id: CartridgeLightRifle

- type: entity
  name: Melee Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerMelee
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Melee/cleaver.rsi
      state: butch
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssMeleeTable
      prob: 0.8
    offset: 0.4
    delay: 10

- type: entityTable
  id: SssMeleeTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 60
      children:
      - id: KitchenKnife
    - !type:GroupSelector
      weight: 39
      children:
      - id: CombatKnife
    - !type:GroupSelector
      weight: 1
      children:
      - id: WeaponBaguette

- type: entity
  name: Shotgun Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerShotgun
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Guns/Shotguns/bulldog.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssShotgunTable
      prob: 0.8
    offset: 0.4
    delay: 10

- type: entityTable
  id: SssShotgunTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 60
      children:
      - id: WeaponShotgunSawn
    - !type:GroupSelector
      weight: 39
      children:
      - id: WeaponShotgunDoubleBarreled
    - !type:GroupSelector
      weight: 1
      children:
      - id: WeaponShotgunEnforcer

- type: entity
  name: Shotgun Ammo Spawner
  suffix: SSS, Timed
  id: SssWeaponSpawnerShotgunAmmo
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: blue
    - state: timed
    - sprite: Objects/Weapons/Guns/Shotguns/bulldog.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssShotgunAmmoTable
      prob: 0.8
    offset: 0.4
    delay: 10
    count: 2

- type: entityTable
  id: SssShotgunAmmoTable
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 100
      children:
      - id: BoxLethalshot


- type: entity
  name: SSS Weapon Spawner
  suffix: Timed
  id: SssSpawnerWeapons
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Guns/SMGs/c20r.rsi
      state: icon
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssSpawnerWeaponsTable
      prob: 1
    offset: 0.3
    delay: 10

- type: entityTable
  id: SssSpawnerWeaponsTable
  table: !type:GroupSelector
    children:
    # Weapons
    - !type:GroupSelector
      children:
      - !type:GroupSelector
        weight: 74 # Common Weapons. Fairly base-line basic stuff.
        children:
        - id: WeaponSubMachineGunWt550
        - id: WeaponSubMachineGunDrozd
        - id: WeaponRifleLecter
        - id: WeaponShotgunKammerer
        - id: WeaponPistolMk58
        - id: SurvivalKnife
        - id: WeaponRevolverInspector
        - id: WeaponShotgunDoubleBarreled
        - id: WeaponLaserSvalinn
        - id: CombatKnife
        - id: KukriKnife
        - id: Shiv
      - !type:GroupSelector
        weight: 25 # Rare. Used for weapons that are generally worse / better then average
        children:
        - id: BaseBallBat
        - id: WeaponRifleAk
        - id: WeaponRevolverDeckard
        - id: WeaponSniperHristov
        - id: WeaponFlareGun
        - id: WeaponSubMachineGunC20r
        - id: WeaponShotgunBulldog
        - id: WeaponPistolViper
        - id: WeaponPistolN1984
        - id: WeaponRevolverMateba
        - id: WeaponShotgunEnforcer
        - id: WeaponCrusher
        - id: WeaponProtoKineticAccelerator
        - id: ButchCleaver
        - id: Spear
        - id: WeaponShotgunSawn
      - !type:GroupSelector
        weight: 1 # Very rare. Used for outright overpowered or stupid shit.
        children:
        - id: WeaponLaserGun
        - id: WeaponLaserCannon
        - id: WeaponDisabler
        - id: WeaponEnergyShotgun
        - id: WeaponDisablerSMG
        - id: WeaponLightMachineGunL6
        - id: WeaponSubMachineGunVector
        - id: WeaponSubMachineGunAtreides
        - id: WeaponRevolverPythonAP
        - id: WeaponSniperMosin
        - id: WeaponLauncherRocket

- type: entity
  name: SSS Utility Spawner
  suffix: SSS, Timed
  id: SssSpawnerUtility
  parent: MarkerBase
  components:
  - type: Sprite
    layers:
    - state: red
    - state: timed
    - sprite: Objects/Weapons/Grenades/modular.rsi
      state: complete
  - type: EntityTableSpawner
    table: !type:NestedSelector
      tableId: SssSpawnerWeaponsTable
      prob: 1
    offset: 0.4
    delay: 10

- type: entityTable
  id: SssSpawnerUtilityTable
  table: !type:GroupSelector
    children:
    # Tools
    - !type:GroupSelector
      weight: 30
      children:
      - !type:GroupSelector
        weight: 70 # Common
        children:
        - id: ClothingEyesGlassesSunglasses
        - id: TearGasGrenade
        - id: SmokeGrenade
        - id: GrenadeFlashBang
        - id: ExGrenade
        - id: FlashlightLantern
        - id: Crowbar
        - id: CrowbarRed #fuck you, we're doubling up on crowbar spawns
        - id: RandomSoap
        - id: ClothingMaskGas
        - id: MaterialWoodPlank
        - id: Gauze5
        - id: Brutepack5
        - id: Ointment5
      - !type:GroupSelector
        weight: 20 # Rare
        children:
        - id: ClothingEyesHudMedical
        - id: MedkitFilled
        - id: GrenadeShrapnel
        - id: GrenadeStinger
        - id: CombatMedipen
      - !type:GroupSelector
        weight: 5 # Very rare
        children:
        - id: MedkitCombatFilled
        - id: DrinkSpaceLube
        - id: DrinkSpaceGlue
    # Ammunition
    - !type:GroupSelector
      weight: 70
      children:
      - !type:GroupSelector
        weight: 90
        children:
        - id: MagazinePistolSubMachineGunTopMounted
        - id: MagazinePistolSubMachineGun
        - id: MagazinePistol
        - id: MagazineRifle
        - id: MagazineLightRifle
        - id: SpeedLoaderMagnum
        - id: PowerCellHigh
        - id: PowerCellMedium
        - !type:GroupSelector
          children:
          - id: MagazineShotgun
          - id: MagazineShotgunSlug
        - !type:GroupSelector
          children:
          - id: BoxLethalshot
          - id: BoxShotgunSlug
      - !type:GroupSelector
        weight: 10
        children:
        - id: MagazineMagnumSubMachineGun
        - id: MagazineBoxAntiMateriel
